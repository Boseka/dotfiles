#!/bin/bash
#set -x

CHSH_DIR="/dbox/chsh"
CHSH="$1"

if [[ -z "$CHSH" ]]; then
    ls "$CHSH_DIR"
    echo -n "View cheatsheet of: "
    read CHSH
fi

if [[ "$CHSH" == "list" ]]; then
    ls "$CHSH_DIR"
    exit 0;
fi

if [[ -e "$CHSH_DIR"/"$CHSH" ]]; then
    # -S: truncate long lines rather than wrap them 
    less -S "$CHSH_DIR"/"$CHSH"
else
    echo "Cheatsheet $CHSH not found."
    exit 1
fi
